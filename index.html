<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Timer For Download Files Automatically - HTML, CSS and Javascript</title>
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"> -->


<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  -->

<!-- <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"> -->


<!-- <script src="https://kit.fontawesome.com/dd9af7210e.js" crossorigin="anonymous"></script> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css "> -->


<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"> -->

<!-- <link rel="stylesheet" href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"> -->

<link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="download-container">
        <a href="#" class="download-btn">Download Files <i class="fas fa-download"></i></a>
        <div class="countdown"></div>
        <div class="pleaseWait-text">Please wait..</div>
        <div class="manualDownload-text">
            If the download didn't start automatically, <a href="" class="manualDownload-link">click here.</a>
        </div>
    </div>


<script>
    const downloadBtn = document.querySelector(".download-btn");
    const countdown = document.querySelector(".countdown");
    const pleaseWaitText = document.querySelector(".pleaseWait-text");
    const manualDownloadText = document.querySelector(".manualDownload-text");
    const manualDownloadLink = document.querySelector(".manualDownload-link");
    var timeLeft = 10;

    downloadBtn.addEventListener("click", () => {
        downloadBtn.style.display = "none";
        countdown.innerHTML = "Download will begin automatically in <span>" + timeLeft + "</span> seconds."; //for quick start of countdown

        var downloadTimer = setInterval(function timeCount(){
            timeLeft -= 1;
            countdown.innerHTML = "Download will begin automatically in <span>" + timeLeft + "</span> seconds.";

            if(timeLeft <= 0){
                clearInterval(downloadTimer);
                pleaseWaitText.style.display = "block";
                let download_href = "C:/XAMPP/htdocs/pratice/song.mp3";
                window.location.href = download_href;
                manualDownloadLink.href = download_href;

                setTimeout(() => {
                    pleaseWaitText.style.display = "none";
                    manualDownloadText.style.display = "block";
                }, 4000);
            }
        }, 1000);
    });
</script>

</body>
</html>
